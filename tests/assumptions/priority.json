{
  "suite": "priority",
  "description": "Tests for priority order (validity > domain > positivity > sparity)",
  "cases": [
    {
      "name": "validity_over_domain",
      "description": "Empty x should report validity, not domain, even with invalid misrate",
      "function": "MedianBounds",
      "inputs": {
        "x": [],
        "misrate": 0.001
      },
      "expected_violation": {
        "id": "validity"
      }
    },
    {
      "name": "validity_over_positivity_empty_vs_negative",
      "description": "Empty x should report validity, not positivity on negative y",
      "function": "Ratio",
      "inputs": {
        "x": [],
        "y": [-1.0, -2.0]
      },
      "expected_violation": {
        "id": "validity"
      }
    },
    {
      "name": "validity_over_positivity_nan_vs_negative",
      "description": "NaN in x should report validity, not positivity on negative y",
      "function": "Ratio",
      "inputs": {
        "x": [1.0, "NaN"],
        "y": [-1.0, -2.0]
      },
      "expected_violation": {
        "id": "validity"
      }
    },
    {
      "name": "validity_over_sparity",
      "description": "Empty x should report validity, not sparity on constant y",
      "function": "AvgSpread",
      "inputs": {
        "x": [],
        "y": [5.0, 5.0, 5.0]
      },
      "expected_violation": {
        "id": "validity"
      }
    },
    {
      "name": "positivity_over_sparity_ratio",
      "description": "Negative x should report positivity, not sparity on constant y (for Ratio, y is never checked for sparity)",
      "function": "Ratio",
      "inputs": {
        "x": [-1.0, -2.0],
        "y": [5.0, 5.0, 5.0]
      },
      "expected_violation": {
        "id": "positivity"
      }
    },
    {
      "name": "spread_validity_over_sparity",
      "description": "Empty spread should report validity (priority 0), not sparity",
      "function": "Spread",
      "inputs": {
        "x": []
      },
      "expected_violation": {
        "id": "validity"
      }
    }
  ]
}
