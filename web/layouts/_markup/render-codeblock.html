{{/* Get highlighted HTML for this code fence */}}
{{ $res := transform.HighlightCodeBlock . }}

{{ if .Attributes.title }}
<details class="code-collapse">
  <summary class="cursor-pointer select-none flex items-center gap-2 py-2">
    <span class="arrow transition-transform duration-200 text-link">â–¼</span>
    <span class="font-mono text-sm">{{ .Attributes.title }}</span>
  </summary>
  <div>
    {{ $res.Wrapped }}
  </div>
</details>
{{ else }}
{{ $res.Wrapped }}
{{ end }}
